---
# https://github.com/searxng/searxng/blob/master/searx/settings.yml
use_default_settings: true

redis:
  url: redis://redis:6379/0

server:
  base_url: https://ask.m5_assert([ENV_DOMAIN2])
  http_protocol_version: "1.1"
  # public_instance: true
  secret_key: |-
    m4_esyscmd([uuidgen])

outgoing:
  max_request_timeout: 3.0
  # proxies:
  #   all://:
  #     - socks5://warp-srv-1:1080

search:
  autocomplete: google
  autocomplete_min: 1
  default_lang: all
  formats:
    - csv
    - html
    - json
    - rss

ui:
  center_alignment: true
  hotkeys: vim
  infinite_scroll: true
  results_on_new_tab: true

enabled_plugins:
  - Tracker URL remover
  - Ahmia blacklist
  - Hostnames plugin

# https://kagi.com/stats?stat=leaderboard
hostnames:
  replace:
    '(.+\.)?youtube\.com$': &youtube youtube.m5_assert([ENV_DOMAIN2])
    '(.+\.)?youtu\.be$': *youtube
    '(.+\.)?reddit\.com$': &reddit reddit.m5_assert([ENV_DOMAIN2])
    '(.+\.)?redd\.it$': *reddit
  high_priority:
    - (.+\.)?askubuntu\.com$
    - (.+\.)?developer\.apple\.com$
    - (.+\.)?developer\.mozilla\.org$
    - (.+\.)?discourse\.group$
    - (.+\.)?docs\.python\.org$
    - (.+\.)?genius\.com$
    - (.+\.)?github\.(com|io)$
    - (.+\.)?gitlab\.com$
    - (.+\.)?imdb\.com$
    - (.+\.)?investopedia\.com$
    - (.+\.)?learn\.microsoft\.com$
    - (.+\.)?mayoclinic\.org$
    - (.+\.)?nih\.gov$
    - (.+\.)?postgresql\.org$
    - (.+\.)?registry\.terraform\.io$
    - (.+\.)?rottentomatoes\.com$
    - (.+\.)?rubyapi\.org$
    - (.+\.)?serverfault\.com$
    - (.+\.)?stackexchange\.com$
    - (.+\.)?stackoverflow\.com$
    - (.+\.)?superuser\.com$
    - (.+\.)?wiki\.archlinux\.org$
    - (.+\.)?ycombinator\.com$
    - ^reddit\.m5_assert([ENV_DOMAIN2])$
  low_priority:
    - (.+\.)?docs\.ruby-lang\.org$
    - (.+\.)?medium\.com$
    - (.+\.)?ruby-doc\.org$
    - (.+\.)?twitter\.com$
  remove:
    - (.+\.)?facebook.com$
    - (.+\.)?hackernoon.com$
    - (.+\.)?msn\.com$
    - (.+\.)?pinterest(\.[^.]+){1,2}$
    - (.+\.)?quora.com$
    - (.+\.)?thehackernews.com$
    - (.+\.)?w3schools.com$
    - (.+\.)?webmd.com$
