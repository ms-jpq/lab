---
services:
  cloudbeaver:
    image: docker.io/dbeaver/cloudbeaver:latest
    healthcheck:
      test:
        - CMD
        - curl
        - --fail
        - --no-progress-meter
        - --max-time
        - "1"
        - --
        - 127.0.0.1:8978
    labels:
      - kompose.controller.type=statefulset
      - kompose.service.expose=sql.${DOMAIN}
    ports:
      - 8978
    volumes:
      - data:/opt/cloudbeaver/workspace

volumes:
  data:
