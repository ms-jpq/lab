---
services:
  n8n:
    restart: unless-stopped
    image: docker.n8n.io/n8nio/n8n:latest
    labels:
      traefik.http.routers.${COMPOSE_PROJECT_NAME}.rule: HostRegexp(`^n8n\.`)
      traefik.http.services.${COMPOSE_PROJECT_NAME}.loadbalancer.server.port: 5678
    healthcheck:
      test:
        - CMD
        - wget
        - --quiet
        - -O/dev/null
        - --timeout
        - "1"
        - --
        - 127.0.0.1:5678
    environment: {}
