---
services:
  cloudbeaver:
    restart: unless-stopped
    image: docker.io/dbeaver/cloudbeaver:latest
    labels:
      traefik.enable: true
      traefik.http.routers.cloudbeaver.rule: HostRegexp(`^sql\.`)
      traefik.http.services.cloudbeaver.loadbalancer.server.port: 8978
    healthcheck:
      test:
        - CMD
        - curl
        - --fail
        - --location
        - --no-progress-meter
        - --output
        - /dev/null
        - --max-time
        - "1"
        - --
        - 127.0.0.1:8978
    volumes:
      - d:/Docker/Volumes/cloudbeaver:/opt/cloudbeaver/workspace

networks:
  default:
    external: true
    name: traefik
