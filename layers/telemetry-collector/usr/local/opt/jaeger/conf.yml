# https://www.jaegertracing.io/docs/2.0/deployment/configuration
---
extensions:
  &jstorage jaeger_storage:
    backends:
      &store var_local_state:
        badger:
          ephemeral: false
          directories:
            keys: /var/lib/local/jaeger/keys
            values: /var/lib/local/jaeger/values
  &jquery jaeger_query:
    storage:
      traces: *store
    base_path: /jaeger
    ui:
receivers:
  &recv otlp:
    protocols:
      grpc:
      http:
        endpoint: "[::]:4318"
processors:
  &batch batch:
exporters:
  &jexporter jaeger_storage_exporter:
    trace_storage: *store
service:
  telemetry:
    metrics:
      level: none
    logs:
      level: warn
  extensions:
    - *jstorage
    - *jquery
  pipelines:
    traces:
      receivers:
        - *recv
      processors:
        - *batch
      exporters:
        - *jexporter
