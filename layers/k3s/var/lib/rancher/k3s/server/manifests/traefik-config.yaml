# https://github.com/traefik/traefik-helm-chart/blob/master/traefik/VALUES.md
---
apiVersion: helm.cattle.io/v1
kind: HelmChartConfig
metadata:
  name: traefik
  namespace: kube-system
spec:
  valuesContent: |-
    additionalArguments:
      - --serverstransport.insecureskipverify=true
    ingressRoute:
      dashboard:
        enabled: true
    ports:
      traefik:
        exposedPort: 9000
        expose:
          default: true
      web:
        exposedPort: 8008
        forwardedHeaders:
          insecure: true
        proxyProtocol:
          insecure: true
        middlewares:
          - kube-system-rewritebody@kubernetescrd
      websecure:
        expose:
          default: false
    providers:
      kubernetesCRD:
        allowCrossNamespace: true
    experimental:
      plugins:
        sablier:
          moduleName: github.com/sablierapp/sablier
          version: v1.10.1
        rewritebody:
          moduleName: github.com/traefik/plugin-rewritebody
          version: v0.3.1
